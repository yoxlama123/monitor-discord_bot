
# ğŸ¤– Discord URL Monitoring Botu

BaÅŸlangÄ±Ã§ seviyesinde, Ã¶ÄŸrenme ve test amaÃ§lÄ± hazÄ±rlanmÄ±ÅŸ sade bir Discord botu.
Bot, yalnÄ±zca belirlediÄŸiniz kanalda Ã§alÄ±ÅŸÄ±r ve tÃ¼m ekleme/silme/listeleme iÅŸlemlerini **n8n webhook** Ã¼zerinden gerÃ§ekleÅŸtirir. Hem slash komutlarÄ± (`/`) hem de klasik prefix komutlarÄ± (`!`) destekler.

![Node.js](https://img.shields.io/badge/Node.js-v18%2B-green) ![Discord.js](https://img.shields.io/badge/Discord.js-v14-blue) ![License](https://img.shields.io/badge/License-MIT-yellow)  ![Status](https://img.shields.io/badge/Status-Ã‡alÄ±ÅŸÄ±r-brightgreen) 

## ğŸŒ Desteklenen Platformlar

* `instagram.com`
* `www.instagram.com` 
* `x.com` 
* `www.x.com`

## âœ¨ Ã–zellikler

* **Kanal KÄ±sÄ±tlamasÄ±:** Sadece belirlenen kanalda (`CHANNEL_A_ID`) Ã§alÄ±ÅŸÄ±r â€“ yanlÄ±ÅŸ kanalda komut kullanÄ±mÄ± engellenir.
* **Ã‡ift Komut DesteÄŸi:** Slash komutlar (`/addurl`, `/removeurl`, `/listurl`) ve prefix komutlar (`!addurl`, `!removeurl`, `!listurl`) tam uyumlu. 
* **Kategorili YÃ¶netim:** URL'ler kategorilere gÃ¶re yÃ¶netilir (Ã¶rnek: `sfw`, `nsfw`, `meme`, `haber` vb.). 
* **n8n Entegrasyonu:** Tamamen dÄ±ÅŸ veritabanÄ± entegrasyonu â€“ botun kendi iÃ§inde veri tutmaz.
*  **Gizli YanÄ±t:** Ephemeral reply (geÃ§ici cevap) ile slash komut cevaplarÄ± sadece komutu kullanan kiÅŸi gÃ¶rÃ¼r. 
*  **Otomatik Deploy:** Otomatik slash komut deploy (bot ilk Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda sunucuya komutlarÄ± yÃ¼kler). 
* **Timeout KorumasÄ±:** n8n yanÄ±t vermezse kullanÄ±cÄ±ya hata bildirilir (10 saniye limit).

## ğŸ›  Gereksinimler

* **Node.js** 18 veya Ã¼stÃ¼ 
* **Discord Bot Token** 
* **n8n Webhook URL** (POST ile `{ action, url, category }` alacak ÅŸekilde ayarlanmÄ±ÅŸ olmalÄ±)

## â¬‡ï¸ Kurulum

1. Repoyu klonlayÄ±n veya dosyalarÄ± indirin
```bash
git clone https://github.com/KULLANICI_ADINIZ/discord-url-bot.git
cd discord-url-bot
```
2. Gerekli paketleri yÃ¼kleyin
```bash
npm install discord.js axios discord-api-types dotenv
```
3. Proje kÃ¶k dizinine .env dosyasÄ± oluÅŸturun ve aÅŸaÄŸÄ±daki deÄŸiÅŸkenleri ekleyin:
```bash
BOT_TOKEN=buraya_discord_bot_tokeniniz
CLIENT_ID=buraya_botun_client_id_si
GUILD_ID=buraya_sunucu_id_si
CHANNEL_A_ID=botun_sadece_burada_Ã§alÄ±ÅŸacaÄŸÄ±_kanal_id
N8N_WEBHOOK=https://senin-n8n-domain.com/webhook/url-manager
```
4. Botu baÅŸlatÄ±n
```bash
node index.js
```
Bot ilk Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda otomatik olarak slash komutlarÄ±nÄ± sunucunuza deploy edecektir. Ä°lk Ã§alÄ±ÅŸtÄ±rmada konsolda "Slash komutlarÄ± baÅŸarÄ±yla deploy edildi!" yazÄ±sÄ±nÄ± gÃ¶rmelisiniz.

## ğŸ’¬ KullanÄ±m & Komutlar
### Slash KomutlarÄ± (Tavsiye Edilen)
|Komut| KullanÄ±m Ã–rneÄŸi | AÃ§Ä±klama | 
|--|--|--|
| `/addurl` | `/addurl url: [URL] category: [KATEGORÄ°]` | URL'yi belirtilen kategoriye ekler |
| `/removeurl`| `/removeurl url: [URL]` | URL'yi tÃ¼m kategorilerden siler |
| `/listurl`| `/listurl veya /listurl category: [KATEGORÄ°]` | TÃ¼m URL'leri veya sadece belirtilen kategoriyi listeler |

> Slash komutlarÄ±n cevaplarÄ± ephemeral (sadece siz gÃ¶rÃ¼rsÃ¼nÃ¼z).

### Prefix KomutlarÄ± (Eski Tarz)
|Komut| KullanÄ±m Ã–rneÄŸi | AÃ§Ä±klama | 
|--|--|--|
| `!addurl` | `!addurl [URL] [KATEGORÄ°]` | URL'yi belirtilen kategoriye ekler |
| `!removeurl`| `!removeurl [URL]` | URL'yi tÃ¼m kategorilerden siler |
| `!listurl`| `!listurl veya !listurl [KATEGORÄ°]` | TÃ¼m URL'leri veya sadece belirtilen kategoriyi listeler |

**Listeleme Ã‡Ä±ktÄ±sÄ± Ã–rneÄŸi**
```
Kategoria : sfw  LinklÉ™rin sayÄ± : 24
https://x.com/elonmusk
https://instagram.com/elonmusk
...
```
## ğŸ§© n8n Webhook Beklenen YapÄ±

 **â¡ï¸ Botun GÃ¶nderdiÄŸi Ä°stek (Request Body)**

Webhook'inizin kabul etmesi gereken JSON formatÄ±:
```json
{
  "action"  : "addurl",        // "addurl" | "removeurl" | "listurl"
  "url"     : "https://example.com/username",
  "category": "sfw"          // sadece addurl ve listurl'da kullanÄ±lÄ±r
}
```
**â¬…ï¸ n8n'den Beklenen YanÄ±t (Response)**

| Ä°ÅŸlem | Beklenen JSON YapÄ±sÄ± | Not |
|--|--|--|
| `addurl` | `{ "message": "BaÅŸarÄ±yla eklendi" }` | Bot, `message` alanÄ±nÄ± alÄ±p kullanÄ±cÄ±ya gÃ¶sterir. |
| `removeurl` | `{ "message": "BaÅŸarÄ±yla silindi" }` | Bot, `message` alanÄ±nÄ± alÄ±p kullanÄ±cÄ±ya gÃ¶sterir. |
|`listurl`|`[ { "urls": "https://x.com/elonmusk" },{ "urls": "https://instagram.com/elonmusk" },...]`|YanÄ±tÄ±n mutlaka URL'leri iÃ§eren `urls` anahtarÄ±na sahip JSON nesnelerinden oluÅŸan bir **dizi** olmasÄ± gerekir.|

> EÄŸer tek bir obje dÃ¶nerse bot otomatik olarak dizi haline Ã§evirir.



## ğŸš¨ Hata DurumlarÄ± ve Ã‡Ã¶zÃ¼mler
| Hata MesajÄ± | Muhtemel Sebep | Ã‡Ã¶zÃ¼m  |
|--|--|--|
| `Hata! n8n kontrol et.` | n8n webhook'e ulaÅŸÄ±lamadÄ± veya timeout | n8n'in Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan, webhook URL'nin doÄŸru olduÄŸundan ve 10 saniye iÃ§inde yanÄ±t verdiÄŸinden emin olun. |
|`URL eksik!`|Komutta URL belirtilmemiÅŸ|Komut formatÄ±nÄ± kontrol edin (`/addurl url: [URL]...` veya `!addurl [URL]...`).|
|`Slash komutlar gÃ¶rÃ¼nmÃ¼yor`|Bot yeniden baÅŸlatÄ±lmadÄ± veya izin eksik|Botu yeniden baÅŸlatÄ±n ve Bot davet baÄŸlantÄ±nÄ±zda `applications.commands` izninin olduÄŸundan emin olun.n|

## ğŸš€ Gelecek Ã–zellikler / Yol HaritasÄ±

AÅŸaÄŸÄ±daki Ã¶zellikler, botun kullanÄ±cÄ± deneyimini, gÃ¼venliÄŸini ve yÃ¶netim kolaylÄ±ÄŸÄ±nÄ± artÄ±rmak amacÄ±yla ileriye dÃ¶nÃ¼k olarak planlanan geliÅŸtirmelerdir:

### ğŸ›¡ï¸ GÃ¼venlik ve Veri Kalitesi

* **Yetkilendirme ve Ä°zinler:** KomutlarÄ± sadece belirli Discord rollerine veya yetkili kullanÄ±cÄ±lara kÄ±sÄ±tlama.
* **URL DoÄŸrulama & Duplicate Engelleme:** `addurl` komutunda URL formatÄ±nÄ± kontrol etme ve aynÄ± URL'nin tekrar eklenmesini Ã¶nleme.

### ğŸ“ˆ KullanÄ±cÄ± Deneyimi ve Ã–lÃ§eklenebilirlik

* **Sayfalama (Pagination):** Ã‡ok sayÄ±da URL listeleme sonucunu Discord'un mesaj limitini aÅŸmayacak ÅŸekilde sayfalara ayÄ±rma.
* **GeliÅŸmiÅŸ Hata Raporlama:** n8n'den gelen hata mesajlarÄ±nÄ± yakalayarak kullanÄ±cÄ±ya "Hata! n8n kontrol et" yerine daha anlaÅŸÄ±lÄ±r ve spesifik geri bildirimler sunma.
* **/help ve !help KomutlarÄ±:** Botun tÃ¼m Ã¶zelliklerini ve komutlarÄ±nÄ±n kullanÄ±m ÅŸekillerini iÃ§eren kolay eriÅŸilebilir bir yardÄ±m menÃ¼sÃ¼ ekleme.
* **Daha Fazla Dil DesteÄŸi:** Botun tÃ¼m Ã§Ä±ktÄ±larÄ±nÄ± ve komut aÃ§Ä±klamalarÄ±nÄ± Ã§ok dilli (i18n) hale getirme.

### âš™ï¸ YÃ¶netim ve Esneklik

* **Kategori OluÅŸturma/Silme KomutlarÄ±:** Komutlar aracÄ±lÄ±ÄŸÄ±yla yeni kategoriler tanÄ±mlama ve mevcut kategorileri kaldÄ±rma yeteneÄŸi.
* **Web Panel Entegrasyonu:** URL listelerini, kategorileri ve bot ayarlarÄ±nÄ± Discord dÄ±ÅŸÄ±nda, gÃ¶rsel bir arayÃ¼z (Web Dashboard) Ã¼zerinden yÃ¶netme imkanÄ± sunma.

## ğŸ›‘ UyarÄ±lar
-   Sadece **Instagram** ve **X** linkleri kabul edilir.
-  BaÅŸlangÄ±Ã§ seviyesi proje olup, kapsamlÄ± hata kontrolÃ¼ sÄ±nÄ±rlÄ±dÄ±r.
-   Ãœretim (public) ortamÄ±nda kullanmanÄ±z **Ã¶nerilmez**.
-   KiÅŸisel sunucular ve test iÃ§in uygundur.


**MIT LisansÄ± altÄ±nda lisanslanmÄ±ÅŸtÄ±r â€“ istediÄŸiniz gibi kullanÄ±n, deÄŸiÅŸtirin, daÄŸÄ±tÄ±n.**
